(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"0b1b2ce9af4ec3662d89":function(e,t,n){(t=n("0e326f80368fd0b1333e")(!1)).push([e.i,".background-div{\n    background-color: black;\n}\n\n.pagination {\n    display: flex;\n    justify-content: space-between;\n    list-style: none;\n    cursor: pointer;\n  }\n  \n  .pagination a {\n    padding: 12px;\n    border-radius: 5px;\n    border: 1px solid #6c7ac9;\n    color: #6c7ac9;\n  }\n  \n  .pagination__link {\n    font-weight: bold;\n  }\n  \n  .pagination__link--active a {\n    color: #fff;\n    background: #6c7ac9;\n  }\n  \n  .pagination__link--disabled a {\n    color: rgb(198, 197, 202);\n    border: 1px solid rgb(198, 197, 202);\n  }\n  ",""]),e.exports=t},"325e56b7a17c7c1e0c06":function(e,t,n){var r=n("745a70c961e0aad60670"),a=n("0b1b2ce9af4ec3662d89");"string"===typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},c=(r(a,o),a.locals?a.locals:{});e.exports=c},"61b52931089155318472":function(e,t,n){(t=n("0e326f80368fd0b1333e")(!1)).push([e.i,".grid-form{\n    display: grid;\n    grid-template-columns: 10% 10% 10% 10%\n}\n.input-style{\n    margin: 1%;\n}\n.button{\n    width: 19%;\n    height: 11%;\n    margin-top: 1%;\n}\n\n.buttonSearch{\n    width: 28%;\n    height: 23%;\n    margin-top: 1%;\n}",""]),e.exports=t},"6595a3a60e54e0c4ae40":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return $}));var r,a=n("8af190b70a6bc55c6f1b"),o=n.n(a),c=n("37a60240991d224b50c5"),i=n("0a81c721557e72a0975d");n("f85e09def79cc2a20bc2"),n("7c83a2a0037fcfe13122");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=u(Object(a.useState)(""),2),n=t[0],r=t[1],c=u(Object(a.useState)(null),2),i=c[0],l=c[1],s=u(Object(a.useState)(null),2),f=s[0],p=s[1];return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row searchFilter"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{id:"table_filter",type:"text",className:"form-control input-style","aria-label":"Text input with segmented button dropdown",onChange:function(e){r(e.currentTarget.value)}}),o.a.createElement("input",{id:"table_filter",type:"date",className:"form-control input-style","aria-label":"Text input with segmented button dropdown",onChange:function(e){l(new Date(e.currentTarget.value))}}),o.a.createElement("input",{id:"table_filter",type:"date",className:"form-control input-style","aria-label":"Text input with segmented button dropdown",onChange:function(e){p(new Date(e.currentTarget.value))}}),o.a.createElement("button",{type:"button",className:"btn btn-primary buttonSearch",onClick:function(){e.search({search:n,timeBefore:i,timeAfter:f})}},"search")))))}function f(e){return o.a.createElement("div",{className:"container py-3"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"row "},o.a.createElement("div",{className:"col-md-2"},o.a.createElement("img",{src:e.img,className:"w-100"})),o.a.createElement("div",{className:"col-md-8 px-3"},o.a.createElement("div",{className:"card-block px-3"},o.a.createElement("h4",{className:"card-title"},e.title),o.a.createElement("p",{className:"card-text"},e.text),o.a.createElement("p",{className:"card-text"},new Date(e.date).toDateString()," - ",e.location))))))}!function(e){e.GET_STOLEN_BIKES="GET_STOLEN_BIKES",e.ERROR_GET_STOLEN_BIKES="ERROR_GET_STOLEN_BIKES",e.SET_STOLEN_BIKES="SET_STOLEN_BIKES",e.GET_COUNT_BIKES="GET_COUNT_BIKES",e.SET_COUNT_BIKES="SET_COUNT_BIKES"}(r||(r={}));var p=r,d={bikes:[],countBikes:{},error:null};var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SET_STOLEN_BIKES:return Object.assign(Object.assign({},e),{bikes:t.payload,error:null});case p.SET_COUNT_BIKES:return Object.assign(Object.assign({},e),{countBikes:t.payload,error:null});case p.ERROR_GET_STOLEN_BIKES:return Object.assign(Object.assign({},e),{error:t.payload});default:return e}},m=n("124b48bac274890c1fae"),y=n("7e8762fdbf69fdc6312a"),g=function(e){return Object(y.action)(p.GET_STOLEN_BIKES,e)},h=function(e){return Object(y.action)(p.SET_STOLEN_BIKES,e)},E=function(e){return Object(y.action)(p.ERROR_GET_STOLEN_BIKES,e)};function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){var t="function"===typeof Map?new Map:void 0;return(O=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,x(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),T(r,e)})(e)}function S(e,t,n){return(S=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&T(a,n.prototype),a}).apply(null,arguments)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function i(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}u((r=r.apply(e,t||[])).next())}))},k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(r,e);var t,n=(t=r,function(){var e,n=x(t);if(w()){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return _(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e.statusText)).response=e,t}return r}(O(Error));function N(e){return 204===e.status||205===e.status?null:e.json()}function B(e){if(e.status>=200&&e.status<300)return e;var t=new k(e);throw t.response=e,t}function R(e,t){return j(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,t);case 2:return r=n.sent,n.next=5,B(r);case 5:return a=n.sent,n.abrupt("return",N(a));case 7:case"end":return n.stop()}}),n)})))}var I=regeneratorRuntime.mark(A),C=regeneratorRuntime.mark(L),K=regeneratorRuntime.mark(P);function A(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e.payload.timeBefore?e.payload.timeBefore.getTime():""),t="https://bikeindex.org:443/api/v3/search?page=".concat(e.payload.page,"&per_page=").concat(e.payload.perPage,"&location=Berlin&distance=10&stolenness=proximity&query=").concat(e.payload.search),a.prev=2,a.next=5,Object(m.a)(R,t);case 5:return n=a.sent,r=n.bikes,e.payload.timeBefore&&e.payload.timeAfter&&(r=n.bikes.filter((function(t){return t.date_stolen>e.payload.timeBefore.getTime()&&t.date_stolen<e.payload.timeAfter.getTime()}))),a.next=10,Object(m.b)(h(r));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(2),a.next=16,Object(m.b)(E(a.t0));case 16:case"end":return a.stop()}}),I,null,[[2,12]])}function L(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t="https://bikeindex.org:443/api/v3/search/count?page=".concat(e.payload.page,"&per_page=").concat(e.payload.perPage,"&location=Berlin&distance=10&stolenness=proximity&query=").concat(e.payload.search),r.prev=1,r.next=4,Object(m.a)(R,t);case 4:return n=r.sent,r.next=7,Object(m.b)((a=n,Object(y.action)(p.SET_COUNT_BIKES,a)));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(m.b)(E(r.t0));case 13:case"end":return r.stop()}var a}),C,null,[[1,9]])}function P(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)(p.GET_STOLEN_BIKES,A);case 2:return e.next=4,Object(m.c)(p.GET_COUNT_BIKES,L);case 4:case"end":return e.stop()}}),K)}var G=n("a28fc3c963a1d4d1a2e5"),U=function(e){return e.principal||d},D=n("ebbefae5adebbe9d778a"),M=n.n(D);n("325e56b7a17c7c1e0c06");function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=Object(G.b)({bikes:Object(G.a)(U,(function(e){return e.bikes})),countBikes:Object(G.a)(U,(function(e){return e.countBikes})),error:Object(G.a)(U,(function(e){return e.error}))});function $(){var e,t,n;t=(e={key:"principal",reducer:b}).key,n=e.reducer,Object(c.b)({key:t,reducer:n}),function(e){var t=e.key,n=e.saga,r=e.mode;Object(c.c)({key:t,saga:n,mode:r})}({key:"principal",saga:P});var r=Object(i.e)(J),u=r.bikes,l=r.countBikes,d=r.error,m=Object(i.d)(),h=F(Object(a.useState)({search:""}),2),E=h[0],v=h[1],_=F(Object(a.useState)(!1),2),O=_[0],S=_[1];return Object(a.useEffect)((function(){m(g({page:0,perPage:10,search:""}))}),[]),Object(a.useEffect)((function(){var e;u&&u.length>=0&&m((e={page:0,perPage:10,search:E.search},Object(y.action)(p.GET_COUNT_BIKES,e)))}),[u]),Object(a.useEffect)((function(){l&&S(!1)}),[l]),o.a.createElement("div",null,o.a.createElement(s,{search:function(e){S(!0),v(e),m(g({page:0,perPage:10,search:e.search,timeBefore:e.timeBefore,timeAfter:e.timeAfter}))}}),o.a.createElement("br",null),d?"Ooops,something went wrong":O?o.a.createElement("div",null,"loading"):u.length>0?u.map((function(e){return o.a.createElement(f,{key:e.id,title:e.title,text:e.description,date:e.date_stolen,img:e.thumb,location:e.stolen_location})})):o.a.createElement("div",null,"No Results"),o.a.createElement("br",null),o.a.createElement(M.a,{pageCount:l.proximity?Math.ceil(l.proximity/10):0,pageRangeDisplayed:10,marginPagesDisplayed:10,previousLabel:"previous",nextLabel:"next",containerClassName:"pagination",previousLinkClassName:"pagination__link",nextLinkClassName:"pagination__link",disabledClassName:"pagination__link--disabled",activeClassName:"pagination__link--active",onPageChange:function(e){S(!0),m(g({page:e.selected+1,perPage:10,search:E.search}))}}))}},"7c83a2a0037fcfe13122":function(e,t,n){var r=n("745a70c961e0aad60670"),a=n("61b52931089155318472");"string"===typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},c=(r(a,o),a.locals?a.locals:{});e.exports=c}}]);